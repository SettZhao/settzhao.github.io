<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è°ƒè¯• - èœè°±è¯¦æƒ…</title>
    <style>
        body { font-family: Arial; padding: 20px; line-height: 1.6; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { color: green; }
        .error { color: red; }
        .step { background: white; padding: 10px; margin: 5px 0; border-left: 3px solid #ff6b6b; }
        .tip { background: #fff9e6; padding: 8px; margin: 5px 0; }
    </style>
</head>
<body>
    <h1>èœè°±æ•°æ®è°ƒè¯•é¡µé¢</h1>
    <div id="debug"></div>
    <hr>
    <div id="content"></div>

    <script src="recipes-data.js"></script>
    <script>
        const debugDiv = document.getElementById('debug');
        const contentDiv = document.getElementById('content');
        
        // è°ƒè¯•ä¿¡æ¯
        debugDiv.innerHTML = '<div class="debug">æ­£åœ¨åŠ è½½æ•°æ®...</div>';
        
        try {
            // æ£€æŸ¥æ•°æ®æ˜¯å¦åŠ è½½
            if (typeof recipesData === 'undefined') {
                throw new Error('recipesData æœªå®šä¹‰');
            }
            debugDiv.innerHTML += '<div class="debug success">âœ… recipesData å·²åŠ è½½ï¼ŒåŒ…å« ' + recipesData.length + ' ä¸ªèœè°±</div>';
            
            // è·å–URLå‚æ•°
            const urlParams = new URLSearchParams(window.location.search);
            const recipeId = urlParams.get('id') || 'hongshaorou';
            debugDiv.innerHTML += '<div class="debug">å½“å‰èœè°±ID: ' + recipeId + '</div>';
            
            // æŸ¥æ‰¾èœè°±
            const recipe = recipesData.find(r => r.id === recipeId);
            
            if (!recipe) {
                throw new Error('æœªæ‰¾åˆ°IDä¸º ' + recipeId + ' çš„èœè°±');
            }
            
            debugDiv.innerHTML += '<div class="debug success">âœ… æ‰¾åˆ°èœè°±: ' + recipe.name + '</div>';
            debugDiv.innerHTML += '<div class="debug">Steps: ' + (recipe.steps ? recipe.steps.length : 0) + ' ä¸ª</div>';
            debugDiv.innerHTML += '<div class="debug">Tips: ' + (recipe.tips ? recipe.tips.length : 0) + ' ä¸ª</div>';
            
            // æ˜¾ç¤ºå®Œæ•´èœè°±
            let html = '<h2>' + recipe.emoji + ' ' + recipe.name + '</h2>';
            html += '<p><em>' + recipe.subtitle + '</em></p>';
            html += '<p><strong>ç”¨æ–™ï¼š</strong></p>';
            html += '<ul>';
            recipe.ingredients.forEach(ing => {
                html += '<li>' + ing.name + ': ' + ing.amount + '</li>';
            });
            html += '</ul>';
            
            html += '<h3>ğŸ”ª åˆ¶ä½œæ­¥éª¤</h3>';
            if (recipe.steps && recipe.steps.length > 0) {
                recipe.steps.forEach((step, index) => {
                    html += '<div class="step"><strong>æ­¥éª¤ ' + (index + 1) + ':</strong> ' + step + '</div>';
                });
            } else {
                html += '<div class="error">âŒ æ²¡æœ‰æ­¥éª¤æ•°æ®</div>';
            }
            
            html += '<h3>ğŸ’¡ å°è´´å£«</h3>';
            if (recipe.tips && recipe.tips.length > 0) {
                recipe.tips.forEach(tip => {
                    html += '<div class="tip">â€¢ ' + tip + '</div>';
                });
            } else {
                html += '<div class="error">âŒ æ²¡æœ‰å°è´´å£«æ•°æ®</div>';
            }
            
            contentDiv.innerHTML = html;
            
        } catch (error) {
            debugDiv.innerHTML += '<div class="debug error">âŒ é”™è¯¯: ' + error.message + '</div>';
            console.error(error);
        }
    </script>
</body>
</html>